---
title: "Global Day of Coderetreat 2021 in Shinjuku に参加してきた #coderetreat #gdcr2021"
excerpt: |
  11月13日に新宿で開催されたGlobal Day of Coderetreat in Shinjukuに参加してきました。
  The Game of Life をペアプロで開発するというセッションをひたすら繰り返して、テストの書き方や設計について楽しく学ぶことができる良いイベントでした。
toc: true
category: blog
tags:
  - XP
  - TDD
  - ペアプログラミング
  - モブプログラミング
  - イベントレポート
---

## TL;DR

11月14日に開催されたGlobal Day of Coderetreat in Shinjukuに参加してきました。

{% linkpreview "https://connpass.com/event/229635/" %}

開催はアギレルゴコンサルティングさんのオフィスでした。
久しぶりのオンサイトイベントでとても楽しかった。

## Coderetreat とは

{% linkpreview "https://www.coderetreat.org/" %}

Coderetreat は、普段の仕事での開発のようなプレッシャーのある環境から離れて、ペアプロとTDDを通じて設計や開発について実践する場を持つためのイベントです。
まる一日かけて行うイベントで、コンウェイのライフゲーム（The Game of Life）をテーマに、好きな言語でテストコードを書きながら実装を進めていきます。
45分で1セッションとし、各セッションの終了時にはそこまで書いたコードを**全部捨てます**。

今回のイベントではペアプロではなくモブプロで実施していました。
オンラインのプログラミング環境である[cyber-dojo](https://cyber-dojo.org/creator/home)を利用し、[Mobster](https://github.com/dillonkearns/mobster)を使ってモブプロの時間管理をして行いました。
使用した言語は、JavaScript(Node.js)とテストツールとしてJestを選択しました。
これはその場にいた人たちが共通して使える言語ということで決まったようです[^1]。

[^1]: 自分は午後から参加したので、自分がいない間に既に決まっていました。

## 感想

久しぶりに5分区切りで時間切り替え制のモブプロをしたのですが、短い時間で回すのも回転が早くて面白かった。
今回初めての参加で全部捨てることに驚いたのですが、次のセッションを始めるときには、前回の失敗を踏まえたり、良かったところを意識してみたり、あえて違う実装の進め方をやってみたりと捨てたからこそできる考え方があるように思いました。
また、お好みで実装時の制約を入れるそうです。
今回は2セッション目のときに、「ループ（`for`、`white`など）を使わない」という制約を入れてみました。
今回自分が参加した3セッションでは、

1. ライフゲームの内部の実装から進めていく
2. 表示部分から実装してみる
3. メンバーに役割を与える

といったやり方をしました。

3つめの「メンバーに役割を与える」というのは、「ライフゲームの正しい実装を促すためのテストコードを書く人」「与えられたテストコードをパスするだけの意地悪な実装をする人」、そして「実装をリファクタリングする人」に分かれ、それぞれ順にコードを書いていくというやり方です。
人数が4人いたので、この役割を順で回していき、参加者がそれぞれの役割を体験することができました。
このやり方で

- 意地悪な実装は意外と考えるのが難しい
- 意地悪な実装はリファクタリングもしづらい
- テストコードを増やしていくと正しい実装を強制するようになるかと思ったら、そうでもない[^2]

[^2]: 45分の中で少ないテストコードだったせいなのかも？もっと長く続けていったらどうなるのか。

ということを感じました。
最後にできあがった実装を見ても、まったくライフゲームなのか何をするものなのかすらわからないものになっていましたが、たしかにテストは通っているものでした。
これは、普段読みやすくしていこうという意識をすることが大切であることを教えてくれる題材だと思いました。

## おわりに

およそ1年半ぶりのオンサイトでのイベントに参加してきました。
オンラインも良いのですが、ネットワークの問題を気にしたりとかせず、すぐに声が届く範囲で話ができるのでコミュニケーションのしやすさを感じました。

設計とかテストコードの書き方について色々話をしながら進めていくのは、小さい頃に友達と集まってファミコンをしていたときの雰囲気と似ていると思います。
こういう楽しい空気の中で学んでいくというのは効率が良さそうです。
次回（来年？）のCoderetreatも参加したいな。
